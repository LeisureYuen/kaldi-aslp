
all:

KALDI_DIR = ../../../kaldi/src

include $(KALDI_DIR)/kaldi.mk

LDFLAGS += $(CUDA_LDFLAGS)
LDLIBS += $(CUDA_LDLIBS)
EXTRA_CXXFLAGS = -I$(KALDI_DIR)
CXX = mpicxx

TESTFILES = nnet-randomizer-test nnet-component-test \
            nnet-mpi-sync-test

OBJFILES = nnet-nnet.o nnet-component.o nnet-loss.o \
           nnet-randomizer.o nnet-pdf-prior.o \
           nnet-mpi-sync.o

LIBNAME = aslp-nnet

ADDLIBS = $(KALDI_DIR)/cudamatrix/kaldi-cudamatrix.a \
          $(KALDI_DIR)/matrix/kaldi-matrix.a \
          $(KALDI_DIR)/base/kaldi-base.a \
          $(KALDI_DIR)/util/kaldi-util.a 

include $(KALDI_DIR)/makefiles/default_rules.mk

